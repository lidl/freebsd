#
# to use:
# cd /usr/src/sys/sparc64/conf
# ln -sf ~lidl/V120 V120
# cd /usr/src
# make -j `sysctl -n kern.smp.cpus` kernel KERNCONF=V120
# reboot
#

include 	GENERIC
ident		V120

# Make an SMP-capable kernel by default
nooptions 	SMP			# Symmetric MultiProcessor Kernel

makeoptions 	MODULES_OVERRIDE="fdescfs geom/geom_label \
		geom/geom_nop geom/geom_part geom/geom_mirror \
		if_gre md opensolaris tmpfs unionfs zfs"

# Turn off various debugging/sanity checking mechanisms in -current
nooptions 	DEADLKRES		# Enable the deadlock resolver
nooptions 	INVARIANTS		# Enable calls of extra sanity checking
nooptions 	INVARIANT_SUPPORT	# Extra sanity checks of internal structures, required by INVARIANTS
nooptions 	WITNESS			# Enable checks to detect deadlocks and cycles
nooptions 	WITNESS_SKIPSPIN	# Don't run witness on spinlocks for speed

# these have to be done statically, because of pfsync
device		pf
device		pflog
device		pfsync

# Standard busses
nodevice		central
nodevice		fhc

# ATA controllers
nodevice		ahci
nodevice		mvs
nodevice		siis

# SCSI Controllers
nodevice		ahc
nooptions 	AHC_ALLOW_MEMIO
nooptions 	AHC_REG_PRETTY_PRINT
nodevice		mpt		# LSI-Logic MPT-Fusion
nodevice		mps		# LSI-Logic MPT-Fusion 2

nodevice		atkbdc		# AT keyboard controller
nodevice		atkbd		# AT keyboard
nodevice		psm		# PS/2 mouse

# syscons is the default console driver, resembling an SCO console
nodevice		sc
nodevice		creator		# Creator, Creator3D and Elite3D framebuffers
nodevice		machfb		# ATI Mach64 framebuffers
nodevice		splash		# Splash screen and screen saver support
nooptions 	KBD_INSTALL_CDEV # install a CDEV entry in /dev

# Builtin hardware
nodevice		sbbc

# PCI Ethernet NICs.
nodevice		le
nodevice		ti
nodevice		txp
nodevice		dc
nodevice		cas
nodevice		bge
nodevice		nge
nodevice		re
nodevice		rl
nodevice		sf
nodevice		sis
nodevice		sk
nodevice		ste
nodevice		stge
nodevice		vr
nodevice		xl

nodevice		wlan
nodevice		wlan_wep
nodevice		wlan_ccmp
nodevice		wlan_tkip
nodevice		wlan_amrr
nodevice		ath
nodevice		ath_pci
nodevice		ath_hal
nodevice		ath_rate_sample

# USB support
nodevice		ums
nodevice		urio
# USB Serial devices
nodevice		uark
nodevice		ubsa
nodevice		uftdi
nodevice		uipaq
nodevice		uplcom
nodevice		uslcom
nodevice		uvisor
nodevice		uvscom
# USB Ethernet, requires miibus
nodevice		aue
nodevice		axe
nodevice		cdce
nodevice		cue
nodevice		kue
nodevice		rue
nodevice		udav
# USB Wireless
nodevice		rum
nodevice		uath
nodevice		ural
nodevice		zyd

# FireWire support
nodevice		firewire
nodevice		fwe
nodevice		fwip
nodevice		dcons
nodevice		dcons_crom

# Sound support
nodevice		sound
nodevice		snd_audiocs
nodevice		snd_es137x
nodevice		snd_t4dwave
nodevice		snd_uaudio
